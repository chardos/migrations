
var W = {}

W.vars = {
  year: 0,
  state: 0,
  autoplay: false,
  timerInterval: null
};


W.init = function() {
}


function setupStateButtonActivation() {
  $('#states_selection > li > a.btn').click(function(){
    var selectedButton = $(this);
    if(selectedButton.hasClass("active"))
      return true;

    selectedButton.toggleClass( "active" );
    // perform action
    switch(selectedButton.html()) {
      case "VIC": W.vars.state = 0; break;
      case "NSW": W.vars.state = 1; break;
      case "QLD": W.vars.state = 2; break;
      case "SA": W.vars.state = 3; break;
      case "WA": W.vars.state = 4; break;
      case "ACT": W.vars.state = 5; break;
      case "NT": W.vars.state = 6; break;
      case "TAS": W.vars.state = 7; break;
    }

    triggerActive(selectedButton);
    pullDataAccordingToOptions();
  });
}

function pullDataAccordingToOptions() {
  var chosenYear = W.vars.year;
  var chosenState = W.vars.state;
  var buildVarName = "path";

  switch(chosenState) {
    case 0: buildVarName += "VIC"; break;
    case 1: buildVarName += "NSW"; break;
    case 2: buildVarName += "QLD"; break;
    case 3: buildVarName += "SA"; break;
    case 4: buildVarName += "WA"; break;
    case 5: buildVarName += "ACT"; break;
    case 6: buildVarName += "NT"; break;
    case 7: buildVarName += "TAS"; break;
  }
  if(buildVarName == "path")
    return;

  switch(chosenYear) {
    case 0: buildVarName += "1996"; break;
    case 1: buildVarName += "2001"; break;
    case 2: buildVarName += "2006"; break;
    case 3: buildVarName += "2011"; break;
  }

  migrationMap.arc( window[buildVarName] );
}

function triggerActive(selectedButton) {
  $('#states_selection').children().each(function ( index, value ) { 
    var listitem = $(value);
    var thechild = $('a.btn', listitem); // get the button link
    if(thechild.html() != selectedButton.html())
    {
      thechild.removeClass( "active" );
    }
  });
}

function stopAutoplay() {
  window.clearInterval(W.vars.timerInterval);
  W.vars.timerInterval = null;
  W.vars.autoplay = false;
}

function setupAutoplay() {
  W.vars.autoplay = true;
  incrementDataPullByYearly();
  W.vars.timerInterval = window.setInterval(function() {
    incrementDataPullByYearly();
  }, 2000);
}

function incrementDataPullByYearly() {
  var min = $("#year_slider_ion").data().ionRangeSlider.options.min;
  var max = $("#year_slider_ion").data().ionRangeSlider.options.max;
  var fromToSet = $("#year_slider_ion").data().ionRangeSlider.options.from;
  if(fromToSet >= max) {
    fromToSet = min;
  } else {
    fromToSet++;
  }
  $("#year_slider_ion").data().ionRangeSlider.update({
    from: fromToSet
  });
}

var migrationMap;

$(document).ready(function() {
  migrationMap = new Datamap({
    scope: 'world',
    responsive: true,
    element: document.getElementById('map'),
    projection: 'mercator',
    
    fills: {
      defaultFill: "#262626"
    },
    
    // state: [1996, 2001, 2006, 2011]
    data: {
      AUS: {
        act: [236840,247910,256110,271990],
        nsw: [4632780,4913390,4955360,5175400],
        nt: [146840,169190,176310,187680],
        qld: [2682600,2927700,3218110,3471480],
        sa: [1161070,1184810,1212610,1250720],
        tas: [405160,422470,433050,447290],
        vic: [3380160,3594670,3729470,3948070],
        wa: [1336820,1361280,1436700,1566900]
      },
      NZL: {
        act: [3830,4360,4360,4790],
        nsw: [93910,117960,120010,128830],
        nt: [3570,4110,4010,4840],
        qld: [105790,137050,166770,215620],
        sa: [10520,11800,12560,14050],
        tas: [3670,4010,4660,5460],
        vic: [45410,60610,71250,89270],
        wa: [45510,49680,54240,80970]
      },
      ITA: {
        act: [2780,2530,2410,2160],
        nsw: [67720,64610,60590,56840],
        nt: [590,630,560,550],
        qld: [16650,15670,15400,14560],
        sa: [29420,25830,24390,22060],
        tas: [1230,1240,1160,1070],
        vic: [102210,94710,89900,82670],
        wa: [29770,24630,23630,21750]
      },
      VNM: {
        act: [2370,2350,2630,3260],
        nsw: [63950,67080,71110,80640],
        nt: [540,660,690,820],
        qld: [11290,12060,14540,18340],
        sa: [11300,10890,11700,13410],
        tas: [200,170,160,290],
        vic: [57550,59490,65170,76230],
        wa: [11540,10780,12010,14590]
      },
      GRC: {
        act: [1590,1450,1440,1290],
        nsw: [44280,41990,41520,38980],
        nt: [1210,1350,1310,1420],
        qld: [4590,4280,4770,4190],
        sa: [14370,12490,12340,11380],
        tas: [650,680,690,610],
        vic: [67110,63010,63350,60120],
        wa: [4280,3450,3560,3200]
      },
      DEU: {
        act: [2970,2790,2720,2630],
        nsw: [35230,35010,36410,36490],
        nt: [1060,1200,1130,1240],
        qld: [19780,20560,23650,24580],
        sa: [15340,13760,13700,12840],
        tas: [2140,2200,2460,2550],
        vic: [33070,31760,32530,32220],
        wa: [12320,11050,12110,13190]
      },
      CHN: {
        act: [1820,2200,4350,8030],
        nsw: [69680,92420,139440,190000],
        nt: [360,410,430,1130],
        qld: [7660,9440,18400,33220],
        sa: [3360,3820,9670,19340],
        tas: [410,500,1170,2330],
        vic: [29920,38860,68510,112750],
        wa: [5400,5710,9990,20520]
      },
      PHL: {
        act: [1360,1550,1940,2670],
        nsw: [53270,57850,68220,79380],
        nt: [1930,2130,2370,4430],
        qld: [14490,16560,21950,33100],
        sa: [4570,4870,6330,9790],
        tas: [720,860,1130,1410],
        vic: [22590,24460,31810,42340],
        wa: [5860,5970,8140,19880]
      },
      NLD: {
        act: [1660,1570,1360,1260],
        nsw: [22960,22570,21860,21070],
        nt: [670,690,620,590],
        qld: [16220,16560,17830,17340],
        sa: [10170,9140,8920,8210],
        tas: [2900,2950,2860,2770],
        vic: [28260,26610,26240,24640],
        wa: [13540,11820,12160,11780]
      },
      IND: {
        act: [1670,1930,3200,6500],
        nsw: [29230,39260,66730,109100],
        nt: [480,590,750,2390],
        qld: [5870,7240,12680,34930],
        sa: [3580,3750,7640,21020],
        tas: [500,590,960,1660],
        vic: [24660,31140,60030,126820],
        wa: [14480,13550,17740,34640]
      },
      LBN: {
        act: [430,410,420,440],
        nsw: [57800,59810,64060,66450],
        nt: [30,20,30,60],
        qld: [1220,1250,1460,1550],
        sa: [1720,1650,1740,1740],
        tas: [80,60,60,70],
        vic: [15380,15700,17130,18470],
        wa: [1010,950,1040,1240]
      },
      POL: {
        act: [1570,1460,1300,1210],
        nsw: [20680,19220,18450,17140],
        nt: [100,140,120,140],
        qld: [5900,5750,6040,6050],
        sa: [9140,7760,7440,6520],
        tas: [1150,1020,880,780],
        vic: [25250,22830,21520,19250],
        wa: [8610,7350,7150,6830]
      },
      ZAF: {
        act: [780,1010,1200,1730],
        nsw: [22840,31610,37660,44750],
        nt: [210,400,540,900],
        qld: [9190,15380,26110,39350],
        sa: [2380,3360,5060,6720],
        tas: [780,1090,1230,1690],
        vic: [12780,16980,21820,26630],
        wa: [12830,16990,25870,39800]
      },
      USA: {
        act: [2020,2170,2410,2760],
        nsw: [19700,22060,26420,31350],
        nt: [1130,1500,1500,1380],
        qld: [10090,11070,14560,18430],
        sa: [3610,3360,4080,4630],
        tas: [950,1100,1410,1720],
        vic: [11650,12640,15990,19420],
        wa: [6890,6890,8310,10400]
      },
      MLT: {
        act: [400,380,340,350],
        nsw: [22060,20540,19940,18600],
        nt: [60,60,70,60],
        qld: [3010,3060,3260,3070],
        sa: [2270,1970,1880,1790],
        tas: [120,110,140,130],
        vic: [26710,24560,24330,22780],
        wa: [1360,1120,1210,1180]
      },
      LKA: {
        act: [1480,1660,1930,2580],
        nsw: [16300,19430,22860,27510],
        nt: [360,350,360,580],
        qld: [3930,4460,5730,8970],
        sa: [1340,1260,1720,3020],
        tas: [200,210,260,330],
        vic: [26840,29860,36940,50450],
        wa: [3430,3410,4030,6310]
      },
      IRL: {
        act: [800,780,760,960],
        nsw: [18020,19080,19620,25700],
        nt: [380,400,400,820],
        qld: [7070,7170,8550,12670],
        sa: [3830,3480,3510,3920],
        tas: [590,700,710,770],
        vic: [12380,12300,12700,16730],
        wa: [10770,9720,10540,17050]
      },
      IDN: {
        act: [720,650,890,1170],
        nsw: [19370,23650,25730,30920],
        nt: [1900,950,1070,1270],
        qld: [4850,5080,6210,7480],
        sa: [1490,1380,1800,2200],
        tas: [220,190,220,270],
        vic: [13300,12000,14880,17670],
        wa: [7140,9180,9700,12070]
      },
      FJI: {
        act: [590,620,760,920],
        nsw: [24990,30300,33570,37120],
        nt: [160,200,230,360],
        qld: [6660,8280,10560,13190],
        sa: [900,870,1060,1310],
        tas: [320,290,290,310],
        vic: [6590,7820,9130,11060],
        wa: [720,680,740,1210]
      },
      EGY: {
        act: [290,250,260,340],
        nsw: [19840,19540,20300,21320],
        nt: [50,60,70,70],
        qld: [1590,1660,2090,2410],
        sa: [1300,1210,1210,1440],
        tas: [90,80,130,130],
        vic: [13500,12850,13500,14200],
        wa: [1960,1770,1820,2190]
      },
      TUR: {
        act: [150,170,210,260],
        nsw: [13070,14150,15650,15980],
        nt: [20,30,30,50],
        qld: [940,1040,1390,1700],
        sa: [630,650,690,740],
        tas: [40,40,50,80],
        vic: [16420,17310,19060,19860],
        wa: [830,850,980,1310]
      },
      SGP: {
        act: [710,730,790,1040],
        nsw: [7530,9170,11010,12900],
        nt: [280,280,280,300],
        qld: [3700,4630,5640,6870],
        sa: [1220,1470,2000,2350],
        tas: [310,280,370,520],
        vic: [6720,7980,11870,15550],
        wa: [10630,11070,13800,16300]
      },
      KOR: {
        act: [570,670,970,1790],
        nsw: [22140,28120,35180,47720],
        nt: [60,80,110,380],
        qld: [2800,4000,8120,14720],
        sa: [790,890,2070,3900],
        tas: [210,320,470,740],
        vic: [2550,3480,6660,11750],
        wa: [1360,1420,2370,4910]
      },
      CAN: {
        act: [860,900,1100,1240],
        nsw: [9410,10690,12480,14290],
        nt: [300,340,360,430],
        qld: [5980,6720,8920,11560],
        sa: [1730,1760,2200,2480],
        tas: [510,630,710,880],
        vic: [5210,5970,7380,9070],
        wa: [3970,4000,5090,6270]
      },
      HUN: {
        act: [660,550,490,420],
        nsw: [10730,9930,9170,8330],
        nt: [120,130,90,90],
        qld: [3310,3310,3590,3860],
        sa: [2480,2160,1850,1580],
        tas: [300,310,280,260],
        vic: [8390,7770,7150,6430],
        wa: [1760,1480,1430,1440]
      },
      CHL: {
        act: [860,810,780,820],
        nsw: [14650,14070,14320,14450],
        nt: [90,80,60,50],
        qld: [1280,1430,1840,2280],
        sa: [780,730,790,870],
        tas: [130,160,160,220],
        vic: [7630,7270,7720,8030],
        wa: [1440,1370,1520,1800]
      },
      PNG: {
        act: [870,820,770,800],
        nsw: [6320,6080,5910,6150],
        nt: [730,750,780,760],
        qld: [13180,13140,14320,16590],
        sa: [1030,910,1030,1050],
        tas: [300,280,340,360],
        vic: [2360,2380,2670,2860],
        wa: [1320,1280,1520,2090]
      },
      JPN: {
        act: [540,520,620,770],
        nsw: [11130,10380,12810,14160],
        nt: [150,160,160,200],
        qld: [5880,6540,9880,12070],
        sa: [860,880,1420,1580],
        tas: [200,250,360,410],
        vic: [4340,4620,6590,7920],
        wa: [2180,2340,3550,4270]
      },
      KHM: {
        act: [220,240,280,380],
        nsw: [10400,10720,11580,12840],
        nt: [90,120,170,190],
        qld: [770,1010,1410,1770],
        sa: [2630,2520,2770,3170],
        tas: [10,10,10,20],
        vic: [9190,9740,11290,12970],
        wa: [780,730,840,1180]
      },
      CYP: {
        act: [140,140,140,140],
        nsw: [8670,8600,8240,7780],
        nt: [200,210,170,180],
        qld: [1300,1290,1380,1420],
        sa: [1840,1700,1630,1510],
        tas: [60,60,60,60],
        vic: [10570,10260,10220,9540],
        wa: [520,450,510,520]
      },
      AUT: {
        act: [690,650,600,550],
        nsw: [7840,7410,7130,6740],
        nt: [170,190,160,130],
        qld: [3010,3160,3370,3320],
        sa: [2170,1910,1850,1730],
        tas: [420,420,420,380],
        vic: [6490,5880,5720,5270],
        wa: [1910,1700,1710,1690]
      },
      THA: {
        act: [650,750,890,1190],
        nsw: [7890,10170,13710,20530],
        nt: [410,520,600,900],
        qld: [2360,3080,4980,8140],
        sa: [1150,1350,1880,2510],
        tas: [290,280,350,560],
        vic: [4600,5580,7810,12450],
        wa: [2540,2710,3850,6710]
      },
      IRN: {
        act: [300,320,420,600],
        nsw: [10920,12370,14910,17970],
        nt: [40,50,30,470],
        qld: [1220,1360,2170,4130],
        sa: [1640,1950,2190,3230],
        tas: [100,120,130,220],
        vic: [3160,3760,5460,8550],
        wa: [1880,2320,2800,4430]
      },
      MUS: {
        act: [140,130,150,250],
        nsw: [6150,5830,5990,6580],
        nt: [30,30,40,50],
        qld: [970,1080,1360,1700],
        sa: [120,120,160,230],
        tas: [30,30,30,60],
        vic: [9030,8970,10370,13210],
        wa: [2550,2390,2830,4710]
      },
      PRT: {
        act: [260,240,240,260],
        nsw: [10400,10030,10080,10000],
        nt: [230,210,210,200],
        qld: [860,900,1110,1270],
        sa: [560,540,560,600],
        tas: [20,20,30,40],
        vic: [3160,3020,3190,3220],
        wa: [3170,2810,2860,2980]
      },
      UKR: {
        act: [180,180,180,190],
        nsw: [6160,6000,6180,5900],
        nt: [10,10,20,20],
        qld: [1000,1020,1160,1320],
        sa: [2030,1760,1530,1260],
        tas: [140,130,110,100],
        vic: [7100,6820,7080,6710],
        wa: [940,740,760,780]
      },
      FRA: {
        act: [440,480,510,660],
        nsw: [5900,6920,8180,11080],
        nt: [230,220,260,310],
        qld: [3040,3390,4380,5900],
        sa: [1110,1220,1260,1420],
        tas: [160,190,250,360],
        vic: [3840,4200,4920,6580],
        wa: [1770,1790,2260,3480]
      },
      ESP: {
        act: [680,650,600,620],
        nsw: [6390,6040,5970,6260],
        nt: [110,100,110,110],
        qld: [1950,2010,2230,2420],
        sa: [840,770,770,840],
        tas: [70,80,80,90],
        vic: [3380,3250,3410,3580],
        wa: [1300,1200,1270,1400]
      },
      ROU: {
        act: [130,160,150,160],
        nsw: [3790,4070,4730,4190],
        nt: [20,30,20,30],
        qld: [1550,1850,2270,2740],
        sa: [1070,1170,1180,1230],
        tas: [60,70,70,70],
        vic: [5120,5510,5990,6350],
        wa: [1410,1490,1700,1940]
      },
      ARG: {
        act: [300,240,280,280],
        nsw: [6230,6170,6670,6650],
        nt: [30,40,40,40],
        qld: [810,940,1270,1420],
        sa: [330,320,450,480],
        tas: [40,40,60,70],
        vic: [3800,3730,4110,4140],
        wa: [610,540,590,720]
      },
      MMR: {
        act: [270,300,350,520],
        nsw: [2750,3590,4380,5790],
        nt: [70,80,70,230],
        qld: [520,600,800,2140],
        sa: [130,130,150,770],
        tas: [30,40,30,290],
        vic: [1080,1290,2020,6220],
        wa: [6710,6150,6530,8470]
      },
      CHE: {
        act: [270,280,300,280],
        nsw: [3640,4090,4290,4530],
        nt: [210,240,200,180],
        qld: [2230,2540,3120,3230],
        sa: [550,610,600,640],
        tas: [280,280,310,340],
        vic: [2220,2400,2560,2760],
        wa: [1650,1800,2100,2290]
      },
      LAO: {
        act: [830,720,710,710],
        nsw: [6230,5740,5710,5830],
        nt: [40,40,30,50],
        qld: [890,950,1210,1530],
        sa: [300,440,500,500],
        tas: [180,90,20,30],
        vic: [2410,2200,2320,2430],
        wa: [130,160,170,230]
      },
      URY: {
        act: [100,100,90,110],
        nsw: [8120,7740,7870,7440],
        nt: [10,10,10,10],
        qld: [420,510,690,790],
        sa: [130,130,150,140],
        tas: [20,20,20,30],
        vic: [1980,1800,1920,1830],
        wa: [200,180,190,200]
      },
      DNK: {
        act: [160,170,190,170],
        nsw: [3000,3210,3240,3230],
        nt: [160,180,150,140],
        qld: [2550,2660,3000,2990],
        sa: [730,700,710,640],
        tas: [170,180,190,210],
        vic: [1620,1690,1790,1820],
        wa: [1350,1240,1340,1440]
      },
      FIN: {
        act: [850,790,710,660],
        nsw: [2760,2810,2830,2750],
        nt: [100,130,80,70],
        qld: [2950,2990,3180,3170],
        sa: [660,600,600,560],
        tas: [160,140,160,170],
        vic: [1300,1300,1410,1470],
        wa: [650,600,630,660]
      },
      LVA: {
        act: [290,200,170,160],
        nsw: [2620,2050,1840,1670],
        nt: [20,20,20,20],
        qld: [850,710,630,620],
        sa: [1530,1100,930,760],
        tas: [130,120,100,70],
        vic: [2910,2220,1990,1780],
        wa: [840,560,460,400]
      },
      ISR: {
        act: [70,70,110,140],
        nsw: [2860,3040,3810,4000],
        nt: [30,30,10,20],
        qld: [380,470,630,820],
        sa: [160,160,210,250],
        tas: [20,20,20,40],
        vic: [2930,3100,3960,4760],
        wa: [670,610,680,830]
      },
      LTU: {
        act: [110,100,80,60],
        nsw: [1410,1100,990,1030],
        nt: [10,10,10,10],
        qld: [360,290,280,290],
        sa: [790,560,480,410],
        tas: [90,90,70,50],
        vic: [1570,1220,1090,1050],
        wa: [350,260,220,220]
      },
      EST: {
        act: [90,70,50,50],
        nsw: [1050,800,670,910],
        nt: [10,10,10,40],
        qld: [200,160,170,380],
        sa: [400,270,230,230],
        tas: [50,40,20,30],
        vic: [470,390,340,450],
        wa: [190,130,120,340]
      },
      BRB: {
        act: [0,0,10,0],
        nsw: [0,70,80,90],
        nt: [0,0,0,0],
        qld: [0,140,170,190],
        sa: [0,30,20,20],
        tas: [0,0,10,0],
        vic: [0,50,60,70],
        wa: [0,40,40,60]
      },
      BHS: {
        act: [0,0,0,0],
        nsw: [0,60,80,80],
        nt: [0,0,0,10],
        qld: [0,60,60,60],
        sa: [0,0,0,0],
        tas: [0,0,10,0],
        vic: [0,20,30,40],
        wa: [0,90,90,90]
      },
      MEX: {
        act: [0,60,70,110],
        nsw: [0,620,890,1370],
        nt: [0,20,10,10],
        qld: [0,200,390,620],
        sa: [0,50,80,330],
        tas: [0,10,20,30],
        vic: [0,270,560,1020],
        wa: [0,90,130,280]
      },
      AFG: {
        act: [0,180,300,390],
        nsw: [0,5740,9870,10360],
        nt: [0,10,10,230],
        qld: [0,600,1100,2080],
        sa: [0,1300,1840,3790],
        tas: [0,20,40,50],
        vic: [0,3970,6890,11410],
        wa: [0,2050,1930,4650]
      },
      HND: {
        act: [0,0,0,0],
        nsw: [0,80,100,100],
        nt: [0,0,0,0],
        qld: [0,30,40,50],
        sa: [0,10,10,10],
        tas: [0,0,0,0],
        vic: [0,40,50,60],
        wa: [0,20,20,30]
      },
      CUB: {
        act: [0,0,10,10],
        nsw: [0,290,330,340],
        nt: [0,0,0,0],
        qld: [0,80,120,180],
        sa: [0,10,20,20],
        tas: [0,0,0,0],
        vic: [0,100,140,170],
        wa: [0,20,20,50]
      },
      ATG: {
        act: [0,0,0,0],
        nsw: [0,10,10,10],
        nt: [0,0,0,0],
        qld: [0,0,10,10],
        sa: [0,0,0,0],
        tas: [0,0,0,0],
        vic: [0,10,10,10],
        wa: [0,10,0,10]
      },
      GRD: {
        act: [0,0,0,0],
        nsw: [0,60,70,70],
        nt: [0,0,0,0],
        qld: [0,40,50,50],
        sa: [0,0,0,0],
        tas: [0,0,0,0],
        vic: [0,10,10,10],
        wa: [0,10,10,10]
      },
      PAN: {
        act: [0,0,0,0],
        nsw: [0,70,100,110],
        nt: [0,0,0,10],
        qld: [0,20,20,40],
        sa: [0,10,20,10],
        tas: [0,0,0,0],
        vic: [0,20,30,30],
        wa: [0,20,30,40]
      },
      DOM: {
        act: [0,0,0,0],
        nsw: [0,10,30,50],
        nt: [0,10,0,10],
        qld: [0,20,30,30],
        sa: [0,0,10,10],
        tas: [0,0,0,0],
        vic: [0,20,20,40],
        wa: [0,0,10,20]
      },
      DMA: {
        act: [0,0,0,0],
        nsw: [0,10,10,10],
        nt: [0,0,0,0],
        qld: [0,0,10,10],
        sa: [0,0,0,0],
        tas: [0,0,0,0],
        vic: [0,0,10,10],
        wa: [0,0,0,0]
      },
      NIC: {
        act: [0,40,30,30],
        nsw: [0,470,490,500],
        nt: [0,0,0,0],
        qld: [0,110,120,130],
        sa: [0,30,30,30],
        tas: [0,0,0,0],
        vic: [0,80,70,80],
        wa: [0,40,60,50]
      },
      GTM: {
        act: [0,0,10,10],
        nsw: [0,80,110,130],
        nt: [0,0,0,10],
        qld: [0,60,70,70],
        sa: [0,20,20,30],
        tas: [0,0,0,0],
        vic: [0,110,130,150],
        wa: [0,30,20,30]
      },
      UZB: {
        act: [0,10,20,10],
        nsw: [0,200,340,440],
        nt: [0,0,0,0],
        qld: [0,10,50,130],
        sa: [0,60,140,240],
        tas: [0,10,0,0],
        vic: [0,200,330,460],
        wa: [0,30,50,110]
      },
      COL: {
        act: [0,70,90,130],
        nsw: [0,2550,3150,5190],
        nt: [0,20,30,50],
        qld: [0,770,1120,2810],
        sa: [0,80,130,480],
        tas: [0,20,20,40],
        vic: [0,790,1360,3240],
        wa: [0,220,340,1100]
      },
      BRA: {
        act: [0,170,190,230],
        nsw: [0,2740,3970,7670],
        nt: [0,20,40,90],
        qld: [0,700,1880,4060],
        sa: [0,140,230,550],
        tas: [0,50,50,80],
        vic: [0,870,1320,2300],
        wa: [0,430,810,2090]
      },
      BOL: {
        act: [0,10,10,10],
        nsw: [0,500,530,570],
        nt: [0,10,10,10],
        qld: [0,60,80,90],
        sa: [0,30,30,50],
        tas: [0,10,10,10],
        vic: [0,80,90,120],
        wa: [0,20,30,40]
      },
      TKM: {
        act: [0,0,0,10],
        nsw: [0,20,30,30],
        nt: [0,0,0,0],
        qld: [0,0,0,10],
        sa: [0,0,0,10],
        tas: [0,0,0,0],
        vic: [0,10,20,30],
        wa: [0,0,0,10]
      },
      GEO: {
        act: [0,10,0,10],
        nsw: [0,140,160,200],
        nt: [0,0,0,0],
        qld: [0,0,10,30],
        sa: [0,60,70,80],
        tas: [0,10,0,0],
        vic: [0,120,150,190],
        wa: [0,10,10,10]
      },
      AZE: {
        act: [0,0,0,0],
        nsw: [0,60,100,140],
        nt: [0,0,0,0],
        qld: [0,10,20,70],
        sa: [0,10,20,20],
        tas: [0,0,0,0],
        vic: [0,100,150,170],
        wa: [0,10,10,60]
      },
      ARM: {
        act: [0,0,10,10],
        nsw: [0,550,590,690],
        nt: [0,0,0,0],
        qld: [0,10,20,20],
        sa: [0,100,120,140],
        tas: [0,0,0,0],
        vic: [0,300,350,330],
        wa: [0,10,20,40]
      },
      TJK: {
        act: [0,0,0,0],
        nsw: [0,10,10,40],
        nt: [0,0,0,0],
        qld: [0,0,10,10],
        sa: [0,0,0,0],
        tas: [0,0,0,0],
        vic: [0,20,20,40],
        wa: [0,10,20,20]
      },
      KGZ: {
        act: [0,0,0,10],
        nsw: [0,30,70,100],
        nt: [0,0,0,0],
        qld: [0,30,50,90],
        sa: [0,10,10,30],
        tas: [0,0,0,0],
        vic: [0,20,70,100],
        wa: [0,10,30,60]
      },
      KAZ: {
        act: [0,10,20,30],
        nsw: [0,140,250,370],
        nt: [0,0,0,0],
        qld: [0,60,90,220],
        sa: [0,90,110,120],
        tas: [0,0,0,0],
        vic: [0,130,230,400],
        wa: [0,40,70,170]
      },
      VEN: {
        act: [0,40,60,80],
        nsw: [0,620,810,1360],
        nt: [0,10,10,20],
        qld: [0,150,280,660],
        sa: [0,70,100,380],
        tas: [0,10,10,10],
        vic: [0,230,340,820],
        wa: [0,110,180,540]
      },
      SUR: {
        act: [0,0,0,0],
        nsw: [0,20,30,30],
        nt: [0,0,0,0],
        qld: [0,20,30,30],
        sa: [0,10,10,10],
        tas: [0,0,0,0],
        vic: [0,20,20,30],
        wa: [0,10,10,20]
      },
      SLV: {
        act: [0,170,150,160],
        nsw: [0,2100,2130,2150],
        nt: [0,10,10,20],
        qld: [0,2540,2610,2640],
        sa: [0,910,880,880],
        tas: [0,260,200,210],
        vic: [0,3300,3470,3530],
        wa: [0,1280,1340,1410]
      },
      CRI: {
        act: [0,10,10,10],
        nsw: [0,180,190,220],
        nt: [0,0,0,0],
        qld: [0,40,50,60],
        sa: [0,0,10,10],
        tas: [0,0,0,10],
        vic: [0,60,80,90],
        wa: [0,40,40,50]
      },
      BLZ: {
        act: [0,0,0,0],
        nsw: [0,20,20,30],
        nt: [0,0,0,0],
        qld: [0,10,10,10],
        sa: [0,0,0,0],
        tas: [0,0,0,0],
        vic: [0,0,10,10],
        wa: [0,10,10,10]
      },
      PER: {
        act: [0,120,140,210],
        nsw: [0,4170,4730,6010],
        nt: [0,30,30,30],
        qld: [0,420,700,1130],
        sa: [0,130,200,320],
        tas: [0,30,40,50],
        vic: [0,800,990,1400],
        wa: [0,250,330,690]
      },
      ECU: {
        act: [0,20,40,40],
        nsw: [0,1200,1380,1490],
        nt: [0,0,0,0],
        qld: [0,70,100,170],
        sa: [0,50,50,70],
        tas: [0,0,0,10],
        vic: [0,60,90,120],
        wa: [0,40,70,100]
      },
      PRY: {
        act: [0,0,0,10],
        nsw: [0,210,240,250],
        nt: [0,0,0,0],
        qld: [0,40,50,60],
        sa: [0,10,10,20],
        tas: [0,0,0,0],
        vic: [0,60,80,90],
        wa: [0,20,30,30]
      },
      GUY: {
        act: [0,10,10,10],
        nsw: [0,160,160,180],
        nt: [0,10,10,10],
        qld: [0,120,130,140],
        sa: [0,30,40,30],
        tas: [0,10,10,10],
        vic: [0,130,140,150],
        wa: [0,60,80,80]
      },
      TGO: {
        act: [0,0,0,0],
        nsw: [0,10,20,100],
        nt: [0,0,0,0],
        qld: [0,0,10,50],
        sa: [0,0,0,60],
        tas: [0,0,0,0],
        vic: [0,0,10,50],
        wa: [0,0,10,50]
      },
      AGO: {
        act: [0,10,10,10],
        nsw: [0,180,200,200],
        nt: [0,10,0,10],
        qld: [0,40,70,110],
        sa: [0,20,20,20],
        tas: [0,0,0,0],
        vic: [0,80,90,110],
        wa: [0,60,90,80]
      },
      SEN: {
        act: [0,0,0,0],
        nsw: [0,110,140,180],
        nt: [0,10,0,0],
        qld: [0,50,50,60],
        sa: [0,10,0,10],
        tas: [0,0,0,0],
        vic: [0,40,40,70],
        wa: [0,10,20,60]
      },
      SLE: {
        act: [0,10,60,120],
        nsw: [0,200,930,1750],
        nt: [0,10,10,10],
        qld: [0,30,220,420],
        sa: [0,20,140,230],
        tas: [0,10,200,100],
        vic: [0,30,90,330],
        wa: [0,70,300,490]
      },
      COM: {
        act: [0,0,0,0],
        nsw: [0,10,0,0],
        nt: [0,0,0,0],
        qld: [0,0,0,0],
        sa: [0,0,0,0],
        tas: [0,0,0,0],
        vic: [0,10,10,20],
        wa: [0,0,0,0]
      },
      DJI: {
        act: [0,0,0,0],
        nsw: [0,20,20,30],
        nt: [0,0,0,0],
        qld: [0,0,10,10],
        sa: [0,0,0,0],
        tas: [0,0,0,0],
        vic: [0,40,80,90],
        wa: [0,10,10,20]
      },
      BWA: {
        act: [0,20,30,30],
        nsw: [0,200,230,230],
        nt: [0,0,10,20],
        qld: [0,130,180,230],
        sa: [0,30,80,60],
        tas: [0,10,10,20],
        vic: [0,210,270,270],
        wa: [0,140,230,270]
      },
      BDI: {
        act: [0,0,0,0],
        nsw: [0,10,160,240],
        nt: [0,0,10,10],
        qld: [0,10,220,560],
        sa: [0,0,180,550],
        tas: [0,0,50,40],
        vic: [0,0,90,160],
        wa: [0,10,110,370]
      },
      LBR: {
        act: [0,0,0,10],
        nsw: [0,30,370,620],
        nt: [0,0,90,80],
        qld: [0,10,240,520],
        sa: [0,10,340,590],
        tas: [0,0,40,40],
        vic: [0,30,230,570],
        wa: [0,20,270,580]
      },
      MLI: {
        act: [0,0,0,0],
        nsw: [0,10,20,20],
        nt: [0,0,0,0],
        qld: [0,0,0,10],
        sa: [0,0,0,0],
        tas: [0,0,0,0],
        vic: [0,10,20,20],
        wa: [0,0,10,10]
      },
      GIN: {
        act: [0,0,0,0],
        nsw: [0,20,80,220],
        nt: [0,0,30,10],
        qld: [0,0,40,120],
        sa: [0,0,50,140],
        tas: [0,0,10,10],
        vic: [0,10,40,100],
        wa: [0,0,40,110]
      },
      GNB: {
        act: [0,0,0,0],
        nsw: [0,10,10,10],
        nt: [0,0,0,0],
        qld: [0,0,0,0],
        sa: [0,0,0,0],
        tas: [0,0,0,0],
        vic: [0,0,0,0],
        wa: [0,0,0,0]
      },
      NGA: {
        act: [0,50,60,170],
        nsw: [0,840,1150,1700],
        nt: [0,20,30,60],
        qld: [0,250,400,700],
        sa: [0,80,150,310],
        tas: [0,50,50,80],
        vic: [0,460,670,1260],
        wa: [0,190,380,840]
      },
      STP: {
        act: [0,0,0,0],
        nsw: [0,10,10,10],
        nt: [0,0,0,0],
        qld: [0,0,0,0],
        sa: [0,0,0,0],
        tas: [0,0,0,0],
        vic: [0,10,10,0],
        wa: [0,10,0,0]
      },
      MRT: {
        act: [0,0,0,0],
        nsw: [0,10,10,20],
        nt: [0,0,0,0],
        qld: [0,10,0,0],
        sa: [0,0,0,0],
        tas: [0,0,0,0],
        vic: [0,10,10,10],
        wa: [0,0,0,20]
      },
      NER: {
        act: [0,0,0,0],
        nsw: [0,0,0,10],
        nt: [0,0,0,0],
        qld: [0,0,0,10],
        sa: [0,0,0,0],
        tas: [0,0,0,0],
        vic: [0,0,10,10],
        wa: [0,0,0,0]
      },
      ERI: {
        act: [0,20,30,60],
        nsw: [0,140,180,230],
        nt: [0,10,0,0],
        qld: [0,90,160,430],
        sa: [0,140,140,190],
        tas: [0,0,20,70],
        vic: [0,1110,1480,1750],
        wa: [0,260,380,540]
      },
      SYC: {
        act: [0,10,10,20],
        nsw: [0,270,270,260],
        nt: [0,30,30,40],
        qld: [0,460,540,520],
        sa: [0,30,50,40],
        tas: [0,10,20,10],
        vic: [0,1160,1160,1130],
        wa: [0,750,850,950]
      },
      RWA: {
        act: [0,0,0,20],
        nsw: [0,20,50,120],
        nt: [0,0,0,0],
        qld: [0,10,70,250],
        sa: [0,0,20,90],
        tas: [0,0,10,30],
        vic: [0,0,10,50],
        wa: [0,20,60,150]
      },
      TZA: {
        act: [0,60,60,60],
        nsw: [0,660,770,910],
        nt: [0,20,30,40],
        qld: [0,300,530,850],
        sa: [0,130,250,510],
        tas: [0,30,50,50],
        vic: [0,360,480,620],
        wa: [0,400,590,920]
      },
      UGA: {
        act: [0,50,50,70],
        nsw: [0,490,640,830],
        nt: [0,20,50,40],
        qld: [0,190,350,550],
        sa: [0,50,120,280],
        tas: [0,30,60,100],
        vic: [0,250,350,560],
        wa: [0,300,430,620]
      },
      SOM: {
        act: [0,30,20,30],
        nsw: [0,620,630,720],
        nt: [0,10,30,30],
        qld: [0,200,280,730],
        sa: [0,100,210,270],
        tas: [0,10,0,10],
        vic: [0,2310,2780,3540],
        wa: [0,490,680,1260]
      },
      SWZ: {
        act: [0,10,10,10],
        nsw: [0,70,70,90],
        nt: [0,0,0,0],
        qld: [0,20,50,60],
        sa: [0,0,10,10],
        tas: [0,0,10,10],
        vic: [0,40,50,70],
        wa: [0,70,80,100]
      },
      LSO: {
        act: [0,0,10,10],
        nsw: [0,30,30,40],
        nt: [0,0,10,0],
        qld: [0,10,10,20],
        sa: [0,0,0,0],
        tas: [0,0,0,0],
        vic: [0,10,20,20],
        wa: [0,10,20,30]
      },
      MDG: {
        act: [0,0,0,0],
        nsw: [0,40,70,70],
        nt: [0,10,0,0],
        qld: [0,50,70,70],
        sa: [0,20,10,10],
        tas: [0,0,0,0],
        vic: [0,40,60,70],
        wa: [0,20,20,40]
      },
      ETH: {
        act: [0,70,100,140],
        nsw: [0,620,860,1270],
        nt: [0,30,30,40],
        qld: [0,250,500,850],
        sa: [0,220,450,660],
        tas: [0,40,190,240],
        vic: [0,2140,3510,5090],
        wa: [0,450,750,1330]
      },
      KEN: {
        act: [0,230,260,350],
        nsw: [0,1980,2690,3170],
        nt: [0,80,140,150],
        qld: [0,1200,1690,2340],
        sa: [0,390,850,1290],
        tas: [0,110,140,170],
        vic: [0,1200,2220,3240],
        wa: [0,2450,3650,5170]
      },
      MOZ: {
        act: [0,30,20,20],
        nsw: [0,170,210,200],
        nt: [0,20,10,30],
        qld: [0,120,190,250],
        sa: [0,10,20,20],
        tas: [0,0,10,0],
        vic: [0,110,150,150],
        wa: [0,170,190,220]
      },
      MWI: {
        act: [0,20,20,30],
        nsw: [0,140,160,190],
        nt: [0,10,10,20],
        qld: [0,110,190,250],
        sa: [0,20,50,90],
        tas: [0,10,10,20],
        vic: [0,120,150,200],
        wa: [0,110,240,290]
      },
      TTO: {
        act: [0,30,20,30],
        nsw: [0,380,370,410],
        nt: [0,10,10,10],
        qld: [0,340,400,470],
        sa: [0,30,40,40],
        tas: [0,10,10,20],
        vic: [0,190,260,240],
        wa: [0,430,470,520]
      },
      ZWE: {
        act: [0,210,370,590],
        nsw: [0,2740,4850,6400],
        nt: [0,140,360,740],
        qld: [0,3580,6770,9490],
        sa: [0,490,1050,1370],
        tas: [0,170,270,350],
        vic: [0,1420,2730,4270],
        wa: [0,4460,7310,11420]
      },
      VCT: {
        act: [0,0,0,0],
        nsw: [0,30,40,20],
        nt: [0,0,0,0],
        qld: [0,20,20,20],
        sa: [0,0,10,10],
        tas: [0,0,0,0],
        vic: [0,10,10,10],
        wa: [0,10,10,0]
      },
      JAM: {
        act: [0,40,30,30],
        nsw: [0,270,320,330],
        nt: [0,20,10,20],
        qld: [0,240,310,370],
        sa: [0,40,40,40],
        tas: [0,10,10,10],
        vic: [0,140,180,180],
        wa: [0,150,140,150]
      },
      HTI: {
        act: [0,10,10,0],
        nsw: [0,20,30,30],
        nt: [0,0,0,0],
        qld: [0,10,20,10],
        sa: [0,10,0,0],
        tas: [0,0,0,0],
        vic: [0,30,50,50],
        wa: [0,10,0,10]
      },
      KNA: {
        act: [0,0,0,0],
        nsw: [0,10,10,20],
        nt: [0,0,0,0],
        qld: [0,10,10,10],
        sa: [0,0,0,0],
        tas: [0,0,0,0],
        vic: [0,0,10,10],
        wa: [0,0,0,0]
      },
      LCA: {
        act: [0,0,0,0],
        nsw: [0,10,10,10],
        nt: [0,0,0,0],
        qld: [0,10,10,20],
        sa: [0,0,0,10],
        tas: [0,0,0,0],
        vic: [0,0,10,10],
        wa: [0,0,0,0]
      },
      ZMB: {
        act: [0,80,90,110],
        nsw: [0,850,1090,1210],
        nt: [0,60,40,70],
        qld: [0,700,970,1310],
        sa: [0,160,220,260],
        tas: [0,70,70,100],
        vic: [0,490,660,800],
        wa: [0,1110,1770,2490]
      },
      COD: {
        act: [0,10,10,20],
        nsw: [0,80,130,530],
        nt: [0,0,20,70],
        qld: [0,50,90,630],
        sa: [0,10,100,610],
        tas: [0,10,0,110],
        vic: [0,50,100,370],
        wa: [0,50,180,520]
      },
      CIV: {
        act: [0,0,0,0],
        nsw: [0,20,60,120],
        nt: [0,0,0,0],
        qld: [0,10,30,100],
        sa: [0,0,40,100],
        tas: [0,0,0,10],
        vic: [0,20,50,100],
        wa: [0,10,40,80]
      },
      TCD: {
        act: [0,0,0,0],
        nsw: [0,10,10,20],
        nt: [0,0,0,0],
        qld: [0,0,10,10],
        sa: [0,0,0,0],
        tas: [0,0,0,0],
        vic: [0,10,10,20],
        wa: [0,10,0,10]
      },
      COG: {
        act: [0,10,10,10],
        nsw: [0,50,120,200],
        nt: [0,0,30,30],
        qld: [0,40,100,200],
        sa: [0,10,100,240],
        tas: [0,0,10,60],
        vic: [0,30,120,170],
        wa: [0,30,190,210]
      },
      GMB: {
        act: [0,0,0,0],
        nsw: [0,20,20,50],
        nt: [0,0,0,0],
        qld: [0,0,20,10],
        sa: [0,0,0,0],
        tas: [0,0,0,0],
        vic: [0,10,10,20],
        wa: [0,0,30,20]
      },
      GHA: {
        act: [0,130,140,170],
        nsw: [0,1340,1700,2260],
        nt: [0,30,20,40],
        qld: [0,140,270,400],
        sa: [0,60,150,250],
        tas: [0,10,30,30],
        vic: [0,410,580,790],
        wa: [0,130,260,510]
      },
      GNQ: {
        act: [0,0,0,0],
        nsw: [0,0,0,0],
        nt: [0,0,0,0],
        qld: [0,0,0,0],
        sa: [0,0,0,0],
        tas: [0,0,0,0],
        vic: [0,0,0,0],
        wa: [0,0,0,0]
      },
      GAB: {
        act: [0,0,0,0],
        nsw: [0,0,10,10],
        nt: [0,0,0,0],
        qld: [0,0,10,10],
        sa: [0,0,0,0],
        tas: [0,0,0,0],
        vic: [0,10,0,10],
        wa: [0,0,0,10]
      },
      BEN: {
        act: [0,0,0,0],
        nsw: [0,10,10,20],
        nt: [0,0,0,0],
        qld: [0,10,10,20],
        sa: [0,0,0,10],
        tas: [0,0,0,0],
        vic: [0,10,10,30],
        wa: [0,0,0,10]
      },
      CPV: {
        act: [0,0,0,0],
        nsw: [0,10,10,10],
        nt: [0,0,0,0],
        qld: [0,0,0,0],
        sa: [0,0,0,0],
        tas: [0,0,0,0],
        vic: [0,10,10,10],
        wa: [0,10,10,10]
      },
      CAF: {
        act: [0,0,0,0],
        nsw: [0,0,0,0],
        nt: [0,0,0,0],
        qld: [0,0,0,10],
        sa: [0,0,0,0],
        tas: [0,0,0,0],
        vic: [0,0,0,0],
        wa: [0,0,0,10]
      },
      BFA: {
        act: [0,0,0,0],
        nsw: [0,0,10,10],
        nt: [0,0,0,0],
        qld: [0,0,0,0],
        sa: [0,0,0,0],
        tas: [0,0,0,0],
        vic: [0,10,10,10],
        wa: [0,0,0,10]
      },
      CMR: {
        act: [0,0,0,20],
        nsw: [0,20,40,70],
        nt: [0,0,0,10],
        qld: [0,10,20,60],
        sa: [0,10,10,20],
        tas: [0,0,0,10],
        vic: [0,10,50,80],
        wa: [0,10,20,50]
      },
      ALB: {
        act: [0,0,10,30],
        nsw: [0,180,250,240],
        nt: [0,0,10,0],
        qld: [0,170,220,260],
        sa: [0,220,280,430],
        tas: [0,10,10,10],
        vic: [0,940,1500,1820],
        wa: [0,90,130,170]
      },
      SMR: {
        act: [0,0,0,0],
        nsw: [0,0,0,0],
        nt: [0,0,0,0],
        qld: [0,0,0,0],
        sa: [0,0,0,0],
        tas: [0,0,0,0],
        vic: [0,0,0,0],
        wa: [0,0,0,0]
      },
      HRV: {
        act: [0,1990,2020,1850],
        nsw: [0,21180,25990,24590],
        nt: [0,80,80,70],
        qld: [0,4020,5890,5610],
        sa: [0,4030,4980,4470],
        tas: [0,330,380,380],
        vic: [0,21090,25090,23520],
        wa: [0,5980,7390,7090]
      },
      BIH: {
        act: [0,480,570,520],
        nsw: [0,8640,12370,12170],
        nt: [0,60,50,60],
        qld: [0,3460,5290,5060],
        sa: [0,2600,3490,3280],
        tas: [0,190,170,150],
        vic: [0,10190,14330,13940],
        wa: [0,3170,4300,4270]
      },
      WSM: {
        act: [0,150,140,210],
        nsw: [0,6820,7740,9040],
        nt: [0,20,20,40],
        qld: [0,4200,5540,7420],
        sa: [0,70,80,100],
        tas: [0,30,40,40],
        vic: [0,2490,3370,4540],
        wa: [0,180,230,420]
      },
      VAT: {
        act: [0,0,0,0],
        nsw: [0,0,0,0],
        nt: [0,0,0,0],
        qld: [0,0,0,0],
        sa: [0,0,0,0],
        tas: [0,0,0,0],
        vic: [0,0,0,0],
        wa: [0,0,0,0]
      },
      AND: {
        act: [0,0,0,0],
        nsw: [0,0,20,10],
        nt: [0,0,0,0],
        qld: [0,0,0,0],
        sa: [0,0,0,0],
        tas: [0,0,0,0],
        vic: [0,10,10,0],
        wa: [0,0,0,0]
      },
      CZE: {
        act: [0,270,290,250],
        nsw: [0,5080,5500,5430],
        nt: [0,100,100,100],
        qld: [0,1890,2150,2170],
        sa: [0,1120,1130,1010],
        tas: [0,250,260,230],
        vic: [0,3370,3410,3120],
        wa: [0,1000,1070,1130]
      },
      BLR: {
        act: [0,10,20,20],
        nsw: [0,350,440,480],
        nt: [0,0,0,0],
        qld: [0,70,100,130],
        sa: [0,100,110,100],
        tas: [0,20,20,20],
        vic: [0,760,990,1050],
        wa: [0,30,40,70]
      },
      PLW: {
        act: [0,0,0,0],
        nsw: [0,10,0,10],
        nt: [0,0,0,0],
        qld: [0,0,10,10],
        sa: [0,0,0,0],
        tas: [0,0,0,0],
        vic: [0,0,0,0],
        wa: [0,0,0,0]
      },
      SVK: {
        act: [0,80,50,60],
        nsw: [0,2780,2740,2840],
        nt: [0,40,20,10],
        qld: [0,840,850,910],
        sa: [0,630,540,470],
        tas: [0,70,40,40],
        vic: [0,1510,1300,1200],
        wa: [0,460,430,490]
      },
      RUS: {
        act: [0,300,330,400],
        nsw: [0,6520,7100,8140],
        nt: [0,10,20,50],
        qld: [0,1410,2010,2780],
        sa: [0,1070,1220,1450],
        tas: [0,110,110,150],
        vic: [0,6510,6700,7040],
        wa: [0,780,1050,1500]
      },
      SVN: {
        act: [0,250,220,180],
        nsw: [0,2890,2980,2740],
        nt: [0,40,30,40],
        qld: [0,680,870,940],
        sa: [0,630,650,590],
        tas: [0,100,90,80],
        vic: [0,3450,3570,3230],
        wa: [0,400,460,470]
      },
      MDA: {
        act: [0,0,0,10],
        nsw: [0,150,190,260],
        nt: [0,0,0,0],
        qld: [0,20,40,80],
        sa: [0,20,40,60],
        tas: [0,10,0,0],
        vic: [0,390,560,590],
        wa: [0,10,20,40]
      },
      SRB: {
        act: [0,1160,810,720],
        nsw: [0,18930,12710,12100],
        nt: [0,120,80,70],
        qld: [0,4980,3670,3890],
        sa: [0,3930,2730,2620],
        tas: [0,320,200,180],
        vic: [0,18210,12620,12250],
        wa: [0,4390,3110,3010]
      },
      MNE: {
        act: [0,140,20,10],
        nsw: [0,1940,560,600],
        nt: [0,10,10,0],
        qld: [0,500,140,170],
        sa: [0,410,80,100],
        tas: [0,30,0,0],
        vic: [0,1860,840,790],
        wa: [0,450,200,170]
      },
      TON: {
        act: [0,150,190,230],
        nsw: [0,5550,5670,6400],
        nt: [0,70,50,70],
        qld: [0,1070,1260,1840],
        sa: [0,60,60,110],
        tas: [0,30,30,40],
        vic: [0,1340,1370,1620],
        wa: [0,90,100,250]
      },
      TUV: {
        act: [0,0,0,10],
        nsw: [0,30,20,20],
        nt: [0,0,0,0],
        qld: [0,40,70,70],
        sa: [0,0,0,0],
        tas: [0,0,0,0],
        vic: [0,30,30,30],
        wa: [0,0,20,10]
      },
      SWE: {
        act: [0,130,190,180],
        nsw: [0,2510,3080,3570],
        nt: [0,100,80,100],
        qld: [0,1740,2130,2430],
        sa: [0,450,510,520],
        tas: [0,90,120,150],
        vic: [0,1480,1860,2160],
        wa: [0,800,990,1220]
      },
      NOR: {
        act: [0,100,100,90],
        nsw: [0,1340,1420,1410],
        nt: [0,50,40,40],
        qld: [0,1090,1100,1020],
        sa: [0,300,270,210],
        tas: [0,50,50,60],
        vic: [0,690,770,830],
        wa: [0,610,690,740]
      },
      ISL: {
        act: [0,10,10,0],
        nsw: [0,200,210,240],
        nt: [0,10,10,0],
        qld: [0,110,140,140],
        sa: [0,30,30,20],
        tas: [0,20,10,10],
        vic: [0,60,90,110],
        wa: [0,150,180,180]
      },
      BEL: {
        act: [0,160,150,160],
        nsw: [0,1670,1880,2110],
        nt: [0,60,50,60],
        qld: [0,1090,1260,1400],
        sa: [0,440,460,480],
        tas: [0,80,80,100],
        vic: [0,1200,1310,1480],
        wa: [0,680,720,900]
      },
      MCO: {
        act: [0,0,0,0],
        nsw: [0,10,20,20],
        nt: [0,0,0,0],
        qld: [0,10,10,10],
        sa: [0,0,0,10],
        tas: [0,0,0,0],
        vic: [0,10,10,10],
        wa: [0,0,10,10]
      },
      LUX: {
        act: [0,0,0,0],
        nsw: [0,40,50,60],
        nt: [0,0,0,0],
        qld: [0,30,40,40],
        sa: [0,10,0,10],
        tas: [0,0,0,0],
        vic: [0,30,50,70],
        wa: [0,30,40,50]
      },
      LIE: {
        act: [0,0,0,0],
        nsw: [0,0,10,10],
        nt: [0,0,0,0],
        qld: [0,0,0,0],
        sa: [0,0,0,0],
        tas: [0,0,0,0],
        vic: [0,0,0,10],
        wa: [0,0,10,10]
      },
      VUT: {
        act: [0,30,50,30],
        nsw: [0,480,500,520],
        nt: [0,10,10,30],
        qld: [0,330,430,470],
        sa: [0,20,20,30],
        tas: [0,10,10,10],
        vic: [0,130,150,150],
        wa: [0,40,50,50]
      },
      TLS: {
        act: [0,20,30,30],
        nsw: [0,2650,2620,2470],
        nt: [0,1290,1290,1260],
        qld: [0,510,570,580],
        sa: [0,80,90,140],
        tas: [0,10,10,10],
        vic: [0,5470,5790,5560],
        wa: [0,390,440,480]
      },
      SLB: {
        act: [0,20,30,50],
        nsw: [0,510,560,590],
        nt: [0,50,40,50],
        qld: [0,640,810,990],
        sa: [0,30,40,70],
        tas: [0,10,20,20],
        vic: [0,120,140,170],
        wa: [0,40,80,100]
      },
      MAC: {
        act: [0,20,30,50],
        nsw: [0,1080,1080,1270],
        nt: [0,10,10,10],
        qld: [0,180,240,320],
        sa: [0,50,30,60],
        tas: [0,10,10,10],
        vic: [0,520,590,730],
        wa: [0,100,120,170]
      },
      MYS: {
        act: [0,1740,2050,2510],
        nsw: [0,23440,26650,31420],
        nt: [0,730,720,780],
        qld: [0,8540,10920,14800],
        sa: [0,4500,6040,8040],
        tas: [0,760,1100,1410],
        vic: [0,26930,34650,45690],
        wa: [0,19390,23080,29430]
      },
      MHL: {
        act: [0,0,0,0],
        nsw: [0,10,10,10],
        nt: [0,0,0,0],
        qld: [0,10,10,10],
        sa: [0,0,0,0],
        tas: [0,0,0,10],
        vic: [0,10,20,10],
        wa: [0,0,0,0]
      },
      YEM: {
        act: [0,20,20,30],
        nsw: [0,130,170,180],
        nt: [0,10,0,0],
        qld: [0,40,80,90],
        sa: [0,30,40,30],
        tas: [0,10,10,0],
        vic: [0,90,120,160],
        wa: [0,70,100,120]
      },
      KIR: {
        act: [0,10,20,10],
        nsw: [0,110,130,120],
        nt: [0,20,30,20],
        qld: [0,120,150,290],
        sa: [0,20,20,20],
        tas: [0,10,10,10],
        vic: [0,110,100,100],
        wa: [0,20,20,30]
      },
      BRN: {
        act: [0,40,40,40],
        nsw: [0,310,420,470],
        nt: [0,50,40,30],
        qld: [0,220,410,440],
        sa: [0,120,110,140],
        tas: [0,10,0,10],
        vic: [0,420,550,710],
        wa: [0,980,1070,1180]
      },
      MNG: {
        act: [0,10,20,40],
        nsw: [0,60,110,320],
        nt: [0,0,0,10],
        qld: [0,20,40,110],
        sa: [0,0,30,60],
        tas: [0,0,0,10],
        vic: [0,10,70,120],
        wa: [0,10,20,110]
      },
      MDV: {
        act: [0,10,10,30],
        nsw: [0,40,60,60],
        nt: [0,0,0,0],
        qld: [0,20,50,60],
        sa: [0,20,40,50],
        tas: [0,0,10,10],
        vic: [0,40,80,110],
        wa: [0,20,70,130]
      },
      BTN: {
        act: [0,10,30,120],
        nsw: [0,30,40,500],
        nt: [0,0,0,20],
        qld: [0,0,10,320],
        sa: [0,10,10,760],
        tas: [0,0,0,430],
        vic: [0,10,30,370],
        wa: [0,10,30,150]
      },
      NPL: {
        act: [0,60,70,310],
        nsw: [0,1640,2940,17310],
        nt: [0,10,30,420],
        qld: [0,140,300,2410],
        sa: [0,70,90,1120],
        tas: [0,20,20,330],
        vic: [0,400,780,4860],
        wa: [0,90,120,1050]
      },
      BGR: {
        act: [0,40,40,40],
        nsw: [0,1050,1110,1120],
        nt: [0,10,20,20],
        qld: [0,310,410,490],
        sa: [0,430,410,400],
        tas: [0,20,20,20],
        vic: [0,1010,1130,1120],
        wa: [0,240,310,410]
      },
      PAK: {
        act: [0,330,600,1240],
        nsw: [0,6880,9390,15070],
        nt: [0,80,100,240],
        qld: [0,770,1220,2650],
        sa: [0,360,680,1500],
        tas: [0,30,70,130],
        vic: [0,2840,4970,10390],
        wa: [0,1000,1300,2930]
      },
      BGD: {
        act: [0,450,640,1110],
        nsw: [0,6600,12260,19500],
        nt: [0,50,80,210],
        qld: [0,520,910,1890],
        sa: [0,120,360,1400],
        tas: [0,40,70,60],
        vic: [0,1510,3400,5730],
        wa: [0,500,800,1710]
      },
      TWN: {
        act: [0,230,290,410],
        nsw: [0,8640,8590,10120],
        nt: [0,60,90,310],
        qld: [0,9110,10120,12790],
        sa: [0,550,650,1080],
        tas: [0,60,60,150],
        vic: [0,4540,5050,6540],
        wa: [0,970,1010,2050]
      },
      PRK: {
        act: [0,20,20,0],
        nsw: [0,290,310,170],
        nt: [0,0,0,0],
        qld: [0,30,40,20],
        sa: [0,10,10,10],
        tas: [0,0,0,0],
        vic: [0,20,30,30],
        wa: [0,20,30,10]
      },
      ARE: {
        act: [0,50,40,100],
        nsw: [0,580,1010,1610],
        nt: [0,10,10,30],
        qld: [0,210,600,840],
        sa: [0,40,110,180],
        tas: [0,20,20,40],
        vic: [0,410,1090,1960],
        wa: [0,230,450,810]
      },
      NRU: {
        act: [0,10,10,10],
        nsw: [0,70,80,90],
        nt: [0,10,10,10],
        qld: [0,140,150,200],
        sa: [0,20,10,20],
        tas: [0,10,10,10],
        vic: [0,200,280,260],
        wa: [0,30,30,30]
      },
      PSE: {
        act: [0,50,40,60],
        nsw: [0,1650,1810,1660],
        nt: [0,0,0,10],
        qld: [0,90,110,130],
        sa: [0,110,100,140],
        tas: [0,10,10,10],
        vic: [0,1020,1000,820],
        wa: [0,180,190,200]
      },
      BHR: {
        act: [0,20,20,30],
        nsw: [0,280,410,470],
        nt: [0,0,0,10],
        qld: [0,80,210,240],
        sa: [0,40,40,50],
        tas: [0,10,0,20],
        vic: [0,230,310,400],
        wa: [0,100,170,230]
      },
      LBY: {
        act: [0,20,20,30],
        nsw: [0,370,440,800],
        nt: [0,0,0,0],
        qld: [0,110,130,390],
        sa: [0,50,60,130],
        tas: [0,0,10,40],
        vic: [0,790,830,1150],
        wa: [0,100,130,370]
      },
      DZA: {
        act: [0,10,20,40],
        nsw: [0,570,620,600],
        nt: [0,30,10,10],
        qld: [0,220,240,250],
        sa: [0,60,70,60],
        tas: [0,10,10,10],
        vic: [0,210,250,260],
        wa: [0,130,120,160]
      },
      MAR: {
        act: [0,20,20,30],
        nsw: [0,520,620,720],
        nt: [0,10,10,10],
        qld: [0,170,220,290],
        sa: [0,50,50,60],
        tas: [0,10,10,20],
        vic: [0,450,540,590],
        wa: [0,120,150,160]
      },
      TUN: {
        act: [0,0,0,10],
        nsw: [0,220,240,250],
        nt: [0,0,0,10],
        qld: [0,60,70,80],
        sa: [0,20,20,20],
        tas: [0,0,0,0],
        vic: [0,150,170,170],
        wa: [0,30,40,50]
      },
      SDN: {
        act: [0,40,250,400],
        nsw: [0,2670,6500,6350],
        nt: [0,90,240,210],
        qld: [0,420,2640,2940],
        sa: [0,270,1620,1580],
        tas: [0,140,610,480],
        vic: [0,1020,6750,6890],
        wa: [0,450,2260,3150]
      },
      QAT: {
        act: [0,10,10,20],
        nsw: [0,130,190,220],
        nt: [0,0,0,0],
        qld: [0,10,60,80],
        sa: [0,0,20,30],
        tas: [0,0,0,0],
        vic: [0,50,110,170],
        wa: [0,50,100,170]
      },
      OMN: {
        act: [0,10,10,20],
        nsw: [0,100,170,220],
        nt: [0,20,10,10],
        qld: [0,60,240,300],
        sa: [0,20,40,50],
        tas: [0,0,10,10],
        vic: [0,130,360,400],
        wa: [0,70,190,240]
      },
      SYR: {
        act: [0,40,40,70],
        nsw: [0,4800,5350,5950],
        nt: [0,10,0,10],
        qld: [0,220,270,360],
        sa: [0,200,260,270],
        tas: [0,70,60,70],
        vic: [0,2010,2220,2590],
        wa: [0,280,230,350]
      },
      SAU: {
        act: [0,50,80,430],
        nsw: [0,680,1250,3750],
        nt: [0,10,0,30],
        qld: [0,160,700,2680],
        sa: [0,70,130,910],
        tas: [0,20,10,180],
        vic: [0,420,900,3330],
        wa: [0,210,470,1340]
      },
      IRQ: {
        act: [0,90,150,360],
        nsw: [0,18080,24870,33580],
        nt: [0,20,20,120],
        qld: [0,690,860,1770],
        sa: [0,880,940,1520],
        tas: [0,40,50,60],
        vic: [0,6940,10440,14490],
        wa: [0,1750,2170,3070]
      },
      KWT: {
        act: [0,50,40,80],
        nsw: [0,1440,1710,2180],
        nt: [0,0,0,20],
        qld: [0,160,230,450],
        sa: [0,50,90,180],
        tas: [0,0,10,10],
        vic: [0,670,920,1370],
        wa: [0,240,310,440]
      },
      JOR: {
        act: [0,60,80,130],
        nsw: [0,2560,2960,3600],
        nt: [0,0,10,10],
        qld: [0,160,190,300],
        sa: [0,100,130,160],
        tas: [0,10,10,10],
        vic: [0,460,620,810],
        wa: [0,270,310,440]
      }
    },

    arcConfig: {
      strokeColor: '#ff0000',
      strokeWidth: 1,
      arcSharpness: 1,
      animationSpeed: 600
    },

    geographyConfig: {
      highlightBorderColor: '#ffffff',
      popupTemplate: function(geo, data) {
        
        if (data){
          var currentState;

          switch(W.vars.state) {
            case 0: currentState = 'vic'; break;
            case 1: currentState = 'nsw'; break;
            case 2: currentState = 'qld'; break;
            case 3: currentState = 'sa'; break;
            case 4: currentState = 'wa'; break;
            case 5: currentState = 'act'; break;
            case 6: currentState = 'nt'; break;
            case 1: currentState = 'tas'; break;
          }


          return '<div class="hoverinfo">' + 'Country of birth: '+geo.properties.name + '<br/><br/>' +
            'Number of people who currently live in ' + currentState +  '<br/>' +
            'at year: ' + '<br/>' +
            '1996 : ' +  data[currentState][0] + '<br/>' +
            '2001 : ' +  data[currentState][1] + '<br/>' +
            '2006 : ' +  data[currentState][2] + '<br/>' +
            '2011 : ' +  data[currentState][3] + '<br/>' +
            ' </div>';
        } else {
          return '<div class="hoverinfo">' + geo.properties.name + '</div>'
        }
      },
      highlightBorderWidth: 1
    }

  });

  setupStateButtonActivation();
  $('a.btn', $($('#states_selection')[0].children[0])).click();

  window.addEventListener('resize', function() {
      migrationMap.resize();
  });

  $('#autoplaybtn').on("click", function(){
    $(this).toggleClass('button-active');
    if($(this).hasClass('button-active')) {
      // play
      setupAutoplay();
    } else {
      // stop
      stopAutoplay();
    }
  });
});
